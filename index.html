<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Lonny Grafman — Portfolio</title>
  <meta name="description" content="Educator, designer, and facilitator building resilient, community-led futures. Projects, teaching, and open work.">
  <meta property="og:title" content="Lonny Grafman — Portfolio">
  <meta property="og:description" content="Educator, designer, and facilitator building resilient, community-led futures.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="assets/og-card.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">

  <script>
    window.PORTFOLIO_CONFIG = {
      CSV_URL: "https://docs.google.com/spreadsheets/d/e/2PACX-1vRwYDBqR1Ig7T0gzs172Esm_cpJ28o8JwClwiiLtXQ65Fjd4_aVY13nKR3p_F6Qtpjq76p9yDYpsmFl/pub?output=csv"
    };
  </script>

  <style>
    :root{
      --bg:#0b0c0c; --text:#e7e7e7; --muted:#a0a0a0;
      --card:#141515; --line:#1f2020;
      --accent:#39ff14; /* neon moss */
      --radius:18px; --pad:18px; --gap:18px; --max:1080px;
      color-scheme: dark light;
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#ffffff; --text:#111; --muted:#565656; --card:#f8f8f8; --line:#eaeaea; }
    }

    html,body{margin:0; padding:0; background:var(--bg); color:var(--text);
      font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
    h1,h2,h3{font-family:"IBM Plex Mono",ui-monospace,SFMono-Regular,Menlo,monospace; letter-spacing:.2px;}
    h1{font-size:clamp(2rem,3vw,3rem); line-height:1.1;}
    .lede{max-width:60ch; color:var(--muted);}

    .wrap{max-width:var(--max); margin-inline:auto; padding:clamp(16px,3vw,32px);}
    .site-header{position:relative}
    .nav{display:flex; gap:20px; justify-content:flex-end}
    .nav__link{position:relative; text-decoration:none; color:var(--text);}
    .nav__link::after{content:""; position:absolute; left:0; bottom:-3px; width:0; height:2px; background:var(--accent); transition:width .25s ease;}
    .nav__link:hover::after{width:100%;}

    .hero{padding-top:28px;}
    .hero__ctas{display:flex; gap:12px; margin-top:16px}
    .btn{border-radius:999px; padding:.7rem 1rem; border:1px solid var(--line); background:transparent; color:var(--text); cursor:pointer; text-decoration:none; display:inline-block}
    .btn--primary{background:var(--accent); color:#000; border:0; box-shadow:0 0 0 2px #000 inset;}
    .btn--ghost:hover{border-color:var(--accent);}

    .grid{display:grid; gap:var(--gap); grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); margin-top:1rem;}
    .card{position:relative; background:var(--card); border:1px solid var(--line); border-radius:var(--radius); overflow:hidden; transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;}
    .card:hover{transform:translateY(-4px); border-color:color-mix(in oklab,var(--accent) 50%,var(--line)); box-shadow:0 10px 30px rgba(0,0,0,.2);}
    .card img{display:block; width:100%; height:220px; object-fit:cover; filter:saturate(1.02);}
    .card__overlay{
      position:absolute; left:0; right:0; bottom:0;
      padding:12px 14px; color:#fff;
      font-family:"IBM Plex Mono",ui-monospace,monospace; font-weight:600; letter-spacing:.2px;
      text-shadow:0 1px 2px rgba(0,0,0,.6);
      background:linear-gradient(to top, rgba(0,0,0,.6), rgba(0,0,0,0) 70%);
      border-top:1px solid rgba(255,255,255,.08);
    }
    .card:hover .card__overlay{background:linear-gradient(to top,rgba(0,0,0,.72),rgba(0,0,0,0) 70%);}

    .scroll-progress{
      position:sticky; bottom:12px; height:3px; margin-top:40px;
      background:linear-gradient(90deg,var(--accent) var(--_pct,0%),transparent 0);
      border-radius:999px; opacity:.7;
    }

    .about{
      position:fixed; inset:clamp(20px,3vw,40px);
      background:var(--card); border:1px solid var(--line); border-radius:24px;
      display:grid; grid-template-columns:260px 1fr; gap:24px; padding:24px;
      box-shadow:0 20px 60px rgba(0,0,0,.4);
    }
    .about[hidden]{display:none;}
    .about__img{width:100%; height:100%; object-fit:cover; border-radius:16px;}
    .about__close{position:absolute; top:12px; right:12px; font-size:24px; background:transparent; border:0; color:var(--text); cursor:pointer;}

    .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.5); padding:24px;}
    .modal[open]{display:flex}
    .modal__dialog{
      max-width:880px; width:min(95vw,880px); background:var(--card); border:1px solid var(--line); border-radius:24px;
      overflow:hidden; display:grid; grid-template-columns:1fr 1fr;
    }
    .modal__img{width:100%; height:100%; object-fit:cover; background:#000; min-height:260px}
    .modal__body{padding:24px;}
    .modal__title{margin:0 0 .25rem}
    .meta{color:var(--muted); font-size:.95rem;}
    .btnrow{display:flex; flex-wrap:wrap; gap:10px; margin-top:16px}
    .chip{font:12px/1.2 ui-monospace,SFMono-Regular,Menlo,monospace; padding:.35rem .5rem; border:1px dashed var(--line); border-radius:999px;}

    .site-footer{display:flex; justify-content:space-between; align-items:center; gap:16px; font-size:.95rem; border-top:1px solid var(--line); margin-top:32px; padding-top:16px}
    .social a{margin-right:10px; text-decoration:none; color:var(--muted);}
    .social a:hover{color:var(--accent)}

    body::after{
      content:""; pointer-events:none; position:fixed; inset:0;
      background:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"140\" height=\"140\"><filter id=\"n\"><feTurbulence type=\"fractalNoise\" baseFrequency=\"0.9\" numOctaves=\"2\" stitchTiles=\"stitch\"/></filter><rect width=\"100%\" height=\"100%\" filter=\"url(%23n)\" opacity=\"0.025\"/></svg>');
      mix-blend-mode:overlay; opacity:.6;
    }

    @media (prefers-reduced-motion: reduce){ *{animation:none!important; transition:none!important} }

    html.punk{ --accent:#ff2dfb; filter:contrast(1.03) saturate(1.08);}
    html.punk body{ animation:crt 0.12s steps(2,end) infinite;}
    @keyframes crt { 50% { transform: translateY(.3px)} }

    @media (max-width:860px){ .modal__dialog{grid-template-columns:1fr;} }
  </style>
</head>
<body>
  <header class="site-header wrap">
    <nav class="nav" aria-label="Primary">
      <a href="#projects" class="nav__link">Projects</a>
      <a href="#about" class="nav__link" data-open-about>About</a>
      <a href="#contact" class="nav__link">Contact</a>
    </nav>

    <section class="hero" aria-labelledby="intro">
      <h1 id="intro">Lonny Grafman</h1>
      <p class="lede">
        Author, Designer, Educator, Facilitator, Public Speaker, and most importantly teammate with people making epic stuff happen.
      </p>
      <div class="hero__ctas">
        <a href="#projects" class="btn btn--primary">See projects</a>
        <a class="btn btn--ghost" href="mailto:hello@example.com">Email me</a>
      </div>
    </section>
  </header>

  <main class="wrap">
    <section id="projects" class="projects" aria-labelledby="proj">
      <h2 id="proj">Projects</h2>
      <div id="grid" class="grid" aria-live="polite"></div>
      <div class="scroll-progress" aria-hidden="true"></div>
    </section>

    <section id="about" class="about" hidden>
      <button class="about__close" aria-label="Close about" title="Close">×</button>
      <img class="about__img" src="assets/lonny.jpg" alt="Photo of Lonny Grafman">
      <div class="about__text">
        <h2>About Lonny</h2>
        <p>I love working with awesome people to make great things happen.</p>
        <p>My international experience includes teaching at Universities in Mexico, Spain and Dominican Republic, and India, as well as founding a summer abroad, full immersion programs in resilient community technologies.</p>
        <p>As a teacher, I have a passion to foster creativity, deepen analytic abilities, increase competence, strengthen connections, and generally broaden knowledge in students primarily by working on real projects, with real clients, that ameliorate existing conditions by leveraging local knowledge, wealth and labor through transparency and stakeholder participation. Ultimately, I want the synthesis of the experience to engender a strong, and accurate, sense of competence and integrity in students, so that they can go on to accomplish their own goals.</p>
        <p>In my classroom, I try to foster a sense of openness through humor, fallibility, and modeling positive actions to critical feedback. Together, the students and I continue to improve the curriculum by collaboratively developing and evolving our course. As part of honoring the value that each of us bring, and celebrating that diverse teams are necessary to tackle the problems facing the world, we engage many styles that allow students of various needs, skills, and ways of being to thrive.</p>
        <p>I focus on building resilience in communities, organizations and individuals by leveraging our own resources to meet our own needs. I do this through education, design, facilitation, and implementation—with projects like Waterpod and Swale (a floating food barge in New York).</p>
        <p>I love getting to present on any and all of these things!</p>
        <p><strong>Projects:</strong> rainwater; greywater; earthen construction; participatory design; local entrepreneurship; manufacturing; appropriate technologies; renewable energy; off-grid systems; energy storage; solar electric micro-grids; solar hot water; social entrepreneurship; and many more.</p>
      </div>
    </section>

    <section id="contact" class="contact" aria-labelledby="ct">
      <h2 id="ct\">Contact</h2>
      <p><a class=\"btn btn--primary\" href=\"mailto:hello@example.com\">Email me</a></p>
    </section>
  </main>

  <footer class=\"site-footer wrap\">
    <p>© <span id=\"year\"></span> Lonny Grafman · <a href=\"https://appropedia.org/\" target=\"_blank\" rel=\"noopener\">Appropedia</a></p>
    <div class=\"social\">
      <a href=\"https://instagram.com/\" aria-label=\"Instagram\">IG</a>
      <a href=\"https://www.linkedin.com/in/\" aria-label=\"LinkedIn\">LI</a>
      <a href=\"https://youtube.com/\" aria-label=\"YouTube\">YT</a>
    </div>
  </footer>

  <!-- Modal for project details --> 
  <dialog id=\"modal\" class=\"modal\" aria-labelledby=\"mTitle\">
    <div class=\"modal__dialog\">
      <img id=\"mImg\" class=\"modal__img\" alt=\"\">
      <div class=\"modal__body\">
        <button id=\"mClose\" class=\"about__close\" aria-label=\"Close\">×</button>
        <h3 id=\"mTitle\" class=\"modal__title\"></h3>
        <div id=\"mMeta\" class=\"meta\"></div>
        <p id=\"mReason\" class=\"meta\" style=\"margin-top:.25rem\"></p>
        <div id=\"mDesc\" style=\"margin-top:10px\"></div>
        <div id=\"mImpacts\" style=\"margin-top:10px\"></div>
        <div id=\"mRoles\" style=\"margin-top:10px\"></div>
        <div id=\"mTags\" style=\"margin-top:12px; display:flex; gap:8px; flex-wrap:wrap\"></div>
        <div id=\"mLinks\" class=\"btnrow\"></div>
      </div>
    </div>
  </dialog>

  <script>
    // All the JS from the previous version (CSV loader, modal, scroll progress, Konami) remains unchanged.
    // (Use the complete script block from my last message.)
  </script>
</body>
</html>
